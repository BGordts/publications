\begin{tikzpicture}[reg/.style={draw,rectangle,fill=gray!20!white,scale=0.8,minimum width=1.5 cm, text width=1.5 cm, minimum height=0.75}]

\foreach \i/\x in {0/0,1/2,2/4,3/6,4/8,5/10,6/12} {
  \coordinate (X\i) at (0.875*\x,0);
}
\foreach \i/\y in {0/0,1/2,2/4,3/6,4/8,5/10,6/12,7/14,8/16} {
  \coordinate (Y\i) at (0,-0.875*\y);
}

\foreach \i/\y/\x/\t in {PD0/0/3/Port 0 Drivers,PD2/0/4/Port 2 Drivers,RAMA/1/0/RAM Address Register,RAM/1/2/RAM,P0L/1/3/Port 0 Latch,P2L/1/4/Port 2 Latch,EPROM/1/5/{EPROM/ ROM},ACC/2/1/ACC,SP/2/5/Stack Pointer,PAR/2/6/Program Address Register,BREG/3/0/B Register,TMP2/3/1/TMP2,TMP1/3/3/TMP1,BFF/3/6/Buffer,ISP/4/4/{Interrupt, Serial Port, and Timer Blocks},PCI/4/6/PC Increment,PSW/5/2/PSW,PC/5/6/Program Counter,DPTR/6/6/DPTR,P1L/7/3/Port 1 Latch,P3L/7/5/Port 3 Latch,OSC/8/0/OSC.,PD1/8/3/Port 1 Drivers,PD3/8/5/Port 3 Drivers} {
  \node[reg] (\i) at (X\x |- Y\y) {\t};
}

\foreach \i/\a/\d in {0/north/1,2/north/1,1/south/-1,3/south/-1} {
  \coordinate (BAS) at (PD\i.\a);
  \foreach \x in {-7,-5,...,7} {
    \coordinate (SUB) at ($(BAS)+(0.0625*\x,0)$);
    \draw[thick,<->] (SUB) -- ++(0,\d);
  }
}

\begin{pgfonlayer}{background}
\node[draw,rectangle,dashed,thick,inner sep=0.5cm,fit=(PD0) (PD2) (RAMA) (RAM) (P0L) (P2L) (EPROM) (ACC) (SP) (PAR) (BREG) (TMP2) (TMP1) (BFF) (ISP) (PCI) (PSW) (PC) (DPTR) (P1L) (P3L) (OSC) (PD1) (PD3)] (IF) {};
\end{pgfonlayer}

\end{tikzpicture}
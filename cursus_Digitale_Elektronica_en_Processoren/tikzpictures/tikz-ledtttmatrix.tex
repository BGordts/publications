\begin{circuitikz}
\def\dx{4};
\def\dy{4};
\def\dl{-1};
\def\du{0.6};
\def\dv{0.6};
\def\dxy{1.2};
\def\dyx{1.2};
\def\sc{0.75};
\coordinate (SL) at (0,\dy);
\coordinate (DL) at (0,-3*\dy);
\coordinate (IL) at (-0.5*\dx,0);
\foreach \i in {0,1,2} {
  \foreach \j in {0,1,2} {
    \foreach \n in {0,1} {
      \node[npn,scale=\sc] (pnp\n\i\j) at (\dx*\j+\dyx*\i+\du*\n,-\dy*\i+2*\dxy-\dxy*\j+\dv-\dv*\n) {};
      \node[led,scale=\sc] (led\n\i\j) at (\dx*\j+\dyx*\i+\du*\n,-\dy*\i+2*\dxy-\dxy*\j+\dv-\dv*\n+\dl) {};
      \draw (pnp\n\i\j.collector) -- (pnp\n\i\j.collector |- SL);
      \draw (pnp\n\i\j.base) -- (pnp\n\i\j.base -| IL);
      \pdot{pnp\n\i\j.collector |- SL};
    }
  }
}
\draw (pnp122.emittor |- SL) -- (pnp000.emittor |- SL);
\end{circuitikz}